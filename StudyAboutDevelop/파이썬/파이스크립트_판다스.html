<!-- 참고 : https://towardsdatascience.com/create-an-interactive-web-app-with-pyscript-and-pandas-3918ad2dada1 -->

<html> 
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <link rel="stylesheet" 
            href="https://pyscript.net/alpha/pyscript.css" /> 
        <script defer 
            src="https://pyscript.net/alpha/pyscript.js"> 
        </script>
        <script src="https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js"></script>
        <py-env> 
            - matplotlib 
            - seaborn
            - pandas
            - scikit-learn
            - PyMySQL
        </py-env> 
    </head> 
    <body>

        <div class="jumbotron"> 
            <h1>날씨 데이터</h1> 
            <p class="lead"> 
                2020년 런던 날씨에 대한 일부 그래프 
            </p> 
        </div>

        <div class="row"> 
            <div class="col-sm-2 p-2 ml-4 mb-1"> 
                <button type="button" class="btn btn-secondary">목록에서 차트 선택: </button> 
            </div>
            <div class="col-sm-4 p-2 mr-4 mb-1"> 
                <select class="form-control" id="select"> 
                    <option value="Tmax">최대 온도</option> 
                    <option value="Tmin">최저 온도</option> 
                    <option value="Sun">일요일</option> 
                    <option value="Rain">비</option>         
                </select> 
            </div> 
        </div>

        <div class="row"> 
            <div class="col-sm-6 p-2 그림자 ml-4 mr-4 mb-4 bg-white rounded"> 
               <div id="chart1"></div> 
            </div> 
        </div>


        <py-script>
import pymysql
import pandas as pd
import pickle
from sklearn.model_selection import train_test_split
import os.path
import sys
import re
from datetime import date


print('hello world11')
# 파이썬 메인버전 숫자를 가져옴
if sys.version_info[0] < 3: 
    from StringIO import StringIO
else:
    from io import StringIO

    
# Connect to the database
print("db연결 테스트 시작")

try:
    connection = pymysql.connect(
        host = 'localhost',
        port = 3306,
        user = 'root',
        passwd='system123',
        db='board',
        connect_timeout = 10,
        charset='utf8'
    )
    <!-- cursor = connection.cursor(pymysql.cursors.DictCursor) -->
    # db와 상호작용하는 커서객체의 여러 종류중 딕셔너리 형태로 반환받기위해
    print("db연결 테스트 끝")
except Exception, e:
    print(e)
        
        </py-script> 
        
    </body> 
</html>